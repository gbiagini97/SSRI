# Comunicazione sicura: i protocolli crittografici

## Definizione del contesto

### Comunicazione sicura lungo un canale insicuro

Indichiamo con la parola **canale** il mezzo tramite il quale due entita' possono comunicare.
Quando il canale e' accessibile anche ad altre entita', oltre a quelle che vogliono comunicare tra di loro, allora il canale si dice **insicuro**.
Poiche' internet e' un canale diviso tra moltissimi utenti, e' definitivamente un canale insicuro.

Nella comunicazione tra persone, browser/server, online banking client/server, router, e' necessario che le informazioni scambiate tra le due entita' siano **protette** e che queste identita' siano **autenticate** per verificarne l'identita'.

#### Comunicazione sicura
Per fare in modo che una comunicazione sia sicura, attraverso un canale insicuro come Internet dobbiamo stabilire delle proprieta' di sicurezza che devono essere garantite durante la comunicazione:
* **Confidenzialita'**: solo Alice e Bob devono poter "capire" il contenuto dei messaggi;
* **Integrita'**: i messaggi non devono venire modificati;
* **Autenticazione**: Alice e Bob devono essere sicuri che il loro interlocutore sia effettivamente chi dice di essere (e che loro si aspettano);
* **Non-repudiation**: Alice non puo' negare di aver spedito un messaggio a Bob.

#### Autenticazione nella rete
Quando si effettuano comunicazioni nella rete e' necessario specificare cosa si intenda autenticare.

##### Entity Authentication
Garantisce l'identita' dell'utente che in tempo reale sta comunicando all'interno di una specifica sessione di protocollo.

##### Message Authentication
Garantisce che il messaggio ricevuto proviene dalla sorgente indicata, senza dare alcuna indicazione di quando il messaggio sia stato effettivamente creato.

___

### Tipologia di attaccante

L'attaccante (Trudy) e' un **host malevolo** connesso ad Internet che puo' voler modificare il normale comportamento dei protocolli per scopi illeciti.

#### Protocolli TCP/IP
Alice e Bob sono due entita' che utilizzano Internet come canale di comunicazione, quindi usano i protocolli dello stack TCP/IP.

| n 	| Internet          	| ISO/OSI 7 layer model 	| n 	|
|---	|-------------------	|-----------------------	|---	|
|   	|                   	| Application           	| 7 	|
| 5 	| Application       	| Presentation          	| 6 	|
|   	|                   	| Session               	| 5 	|
| 4 	| TCP               	| Transport             	| 4 	|
| 3 	| IP                	| Network               	| 3 	|
| 2 	| Network Interface 	| Data Link>            	| 2 	|
| 1 	| Hardware          	| Physical              	| 1 	|

>I protocolli di comunicazione definiscono il formato, l'ordine dei messaggi spediti e ricevuti tra le entita' della rete, e le azioni intraprese dopo la trasmissione/ricezione

#### Cosa puo' fare un attaccante
In genere un attaccante puo' essere definito **attivo/passivo** a seconda di cosa puo' fare lungo un canale di comunicazione.
Rimanendo in ascolto lungo il canale puo' intercettare il messaggio (minacciando la confidenzialita') per poi:
* Leggere solamente il messaggio (passivo);
* Effettuare azioni sul messaggio (attivo):
  * Cancellare il messaggio senza inoltrarlo al destinatario;
  * Modificare i messaggi in transito (minaccia all'integrita');
  * Puo' spedire messaggi arbitrari (minaccia all'autenticazione);
  * Puo' riutilizzare vecchi messaggi salvati, tramite un **replay attack** (minaccia all'autenticazione).

#### Contromisure
Per impedire a Trudy di modificare il funzionamento del protocollo, e' necessario crittografare il messaggio (tramite delle **primitive crittografiche**) per continuare a garantire la confidenzialita' e fare in modo che solo Alice e Bob lo possano decifrare.

La segretezza puo' pero' non essere sufficiente per garantire anche l'autenticazione e l'integrita'.

Per fare in modo che un protocollo sia del tutto sicuro, e dunque vengano garantite tutte le proprieta' di sicurezza, sara' necessario usare una combinazione di primitive crittografiche e costruire un **protocollo di sicurezza**.

___

## Introduzione alla crittografia

### Storia della crittografia

___

### Proprieta' degli algoritmi di cifratura

___

### Crittografia a chiave simmetrica e asimmetrica

___

### Funzioni hash

___

### Firma digitale

___

### Certificato digitale