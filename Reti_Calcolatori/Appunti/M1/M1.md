# Tecniche di comunicazione digitale

## Richiami sulla trasmissione digitale

### Segnali
In generale la parola segnale significa:
> Segno conosciuto o convenuto col quale si da notizia o avvertimento.

Nei sistemi di comunicazione, in particolare nella teoria dei segnali, un segnale e':
> Una grandezza fisica variabile del tempo a cui e' assegnata un'informazione.

#### Forme d'onda
E' possibile rappresentare graficamente un segnale per analizzare il suo comportamento nel tempo. Dunque posto il tempo sull'asse x si rappresenta l'**ampiezza istantanea** del segnale lungo l'asse y. L'ampiezza istantanea puo' rappresentare una qualunque grandezza fisica. 

La forma della rappresentazione grafica cosi' ottenuta e' detta **forma d'onda del segnale**. Per osservare le forme d'onda dei segnali si fa uso degli *oscilloscopi*.

Una forma d'onda che ha una forma base che continua a ripetersi entro un certo periodo e' detta **segnale periodico**.
La lunghezza temporale della forma base piu' breve di una forma d'onda periodica viene detta **periodo dell'onda** e viene misurato in secondi.

La velocita' con cui un periodo completo si ripete e' detta **frequenza fondamentale della forma d'onda** e viene misurata in hertz.

La **lunghezza d'onda** *Î»* viene misurata tramite la formula *v / F*, dove *v* e' la velocita' di propagazione dell'onda e *F* e' la frequenza.

![M1_forme_onda](../resources/M1_forma_onda.png)

#### Onde sinusoidali
Quando un diapason viene percosso produce un tono puro, senza altri suoni armonici. Un tono puro a singola frequenza e' detta **onda sinusoidale**. 
Le onde sinusoidali sono gli elementi fondamentali da cui si possono creare segnali piu' complessi. Possono essere usate anche per spostare altri segnali a intervalli di frequenza diversi tramite la **modulazione**.

Un'onda sinusoidale si ottiene tramite la proiezione sull'asse *y* di un punto su un cerchio rotante. Questa viene quindi definita univocamente dalla sua ampiezza massima, dalla sua frequenza e dalla sua fase:
> *y = A sin (wt - phi)*

![M1_onde_sinusoidali](../resources/M1_onde_sinusoidali.png)

#### Analisi di Fourier
Jean Baptiste Joseph Fourier nei primi anni del 1800 dimostro' matematicamente che una qualunque funzione periodica poteva essere decomposta in una somma di infinite opportune funzioni o componenti sinusoidali (seno o coseno) dette **armoniche**. Quest'operazione e' nota come **Trasformata di Fourier** o piu' genericamente **Trasformata di Laplace bilatera**.

La componente sinusoidale con frequenza piu' bassa prende il nome di *armonica fondamentale*.

La somma delle frequenze delle onde sinusoidali ottenute tramite la Trasformata di Fourier ad ogni istante di tempo crea una nuova forma d'onda. 

Mano a mano che aggiungiamo nuove onde sinusoidali, che hanno frequenze armoniche via via piu' alte, l'onda risultante e' molto simile ad un'onda quadra. Le improvvise discontinuita' agli angoli dell'onda risultate cos' ottenuta prendono nome di **fenomeno di Gibbs**.

#### Sintesi 
L'analisi di Fourier puo' essere applicata a qualsiasi forma d'onda periodica per determinare le frequenze armoniche esatte, le fasi e le ampiezze massime corrispondenti per ricreare o **sintetizzare** un segnale periodico.

#### Conversione tempo/frequenza
La trasformata di Fourier e' particolarmente utile per convertire un segnale in funzione del tempo, in uno in funzione della frequenza, e viceversa.

#### Spettro
Gli elementi caratterizzanti di un'onda sinusoidale sono la sua esatta frequenza e la sua ampiezza massima.

Possiamo rappresentare un'onda sinusoidale nel dominio della frequenza come una linea verticale posta alla sua frequenza e una lunghezza pari alla sua ampiezza massima.
![M1_spettro_onda](../resources/M1_spettro_onda.png)

Questa rappresentazione e' chiamata **spettro dell'onda sinusoidale** e, poiche' qualsiasi forma d'onda puo' essere rappresentata come la somma di molte onde sinusoidali tramite l'analisi e la sintesi di Fourier, rappresenta i vari componenti sinusoidali della forma d'onda in frequenza.

#### Larghezza di banda
I componenti sinusoidali di una forma d'onda in frequenza occupano solo un intervallo finito di frequenze. La larghezza dell'intervallo di frequenze e' detta **larghezza di banda de segnale**.

![M1_larghezza_banda](../resources/M1_larghezza_banda.png)

Poiche' i sistemi e i canali di comunicazione non permettono il passaggio di tutte le frequenze, questi hanno una larghezza di banda massima per la trasmissione sul sistema o canale:

| Segnale o canale    	| Larghezza di banda 	|
|---------------------	|--------------------	|
| Telefonata          	| 4kHz               	|
| Stazione Radio AM   	| 10kHz              	|
| Amplificatore hi-fi 	| 20kHz              	|
| Stazione Radio FM   	| 200kHz             	|
| Banda Radio AM      	| 1.2MHz             	|
| Canale Televisivo   	| 6MHz               	|
| Banda Radio FM      	| 20MHz              	|


La larghezza di banda e' un'importante misura di un segnale o di un canale di comunicazione, ne determina la capacita' di trasportare o meno i segnali.

Ad esempio: un canale con larghezza di banda di 28kHz usato per trasportare i segnali delle telefonate, che occupano 4kHz ognuna, puo' trasportare al massimo 7 segnali simultaneamente.

A volte e' necessario limitare la larghezza di banda di un segnale, e cio' puo' essere realizzato attraverso i filtri che si occupano di eliminare determinate bande di frequenza lasciando passare tutte le altre.

![M1_filtri_bande](../resources/M1_filtri_bande.png)

* LPF (Low-pass Filter): consente solo il passaggio di componenti a bassa frequenza di un segnale;
* HPF (High-pass Filter): consente solo il passaggio di componenti ad alta frequenza di un segnale;
* BPF (Band-pass Filter): contente solo il passaggio di componenti del segnale con una frequenza compresa tra un intervallo predeterminato;
* BSP (Band-stop Filter): non consente il passaggio di componenti del sengale con una frequenza compresa tra un intervallo predeterminato.

#### Spettrogrammi
Strumenti come lo spettrografo generano **spettrogrammi** che visualizzano i cambiamenti nel tempo dello spettro di un segnale. 

Lo spettrogramma e' un tentativo per rappresentare tridimensionalmente uno spettro che cambia nel tempo.
___

### Rete telefonica

#### Trasduzione
La trasduzione consiste nella conversione di una grandezza fisica ad un'altra mediante una *funzione di trasferimento del trasduttore*.

Una grandezza fisica come la voce, intesa come perturbazione della pressione dell'aria *p(t)*, puo' essere **trasdotta** in una tensione elettrica *v(t)*, che ha lo *stesso andamento temporale* ma ha una natura fisica differente piu' adatta per la trasmissione a distanza.

Nel telefono di Meucci la trasduzione della voce avveniva tramite la proprieta' piezoelettrica dei granuli di carbone.

#### Modulazione
Invece di trasmettere direttamente il segnale elettrico trasdotto che riproduce l'andamento dell'onda sonora, si utilizza questo segnale per variare dei parametri di un'onda periodica **portante** detta anche *carrier*.

![M1_modulazione_su_portante](../resources/M1_modulazione_su_portante.png)

In questo caso si ha una trasmissione analogica in modulazione di ampiezza, frequenza e/o fase.

#### Multiplexing
Il multiplexing e' un meccanismo di trasmissione per cui piu' canali trasmissivi in ingresso condividono la stessa capacita' trasmissiva disponibile in uscita. Cio' avviene combinando piu' segnali analogici (o flussi di dati digitali) in un solo segnale, che viene detto *multiplato*, trasmesso in uscita su uno stesso collegamento fisico.

#### Telefonia analogica
Dopo l'invenzione della trasmissione analogica ci si e' posto il problema di come collegare tutti gli utenti. 

Se si collegano tutte le coppie di utenti si avranno *n(n - 1)* connessioni, con *n* il numero totale di utenti.

E' dunque necessario far viaggiare piu' conversazioni sullo stesso tratto di linea facendo uso di un **multiplexer** ed effettuando una **Commutazione di circuito** o *circuit-switching*, per la quale ad ogni richiesta di comunicazione tra una coppia di utenti viene istituito temporaneamente un percorso fisico con delle parti coincidenti.

#### Campionamento
Alcuni circuiti elettronici sono in grado di convertire un segnale analogico ad andamento continuo in una serie di valori discreti. Questa conversione prende il nome di **campionamento**.

Dal **Teorema di campionamento di Nyquist-Shannon** conosciamo la **frequenza di Nyquist**, ossia la frequenza minima, necessaria per campionare un segnale analogico senza perdere informazioni, per poi poter ricostruire il segnale analogico originario.

In particolare il teorema afferma che:
> Data una funzione che rappresenta un segnale a banda limitata, la minima frequenza di campionamento necessaria per evitare aliasing e perdita di informazioni nella ricostruzione del segnale analogico deve essere **maggiore del doppio della sua frequenza massima**.


#### Telefonia digitale
Invece di trasmettere la forma d'onda trasdotta che rappresenta il segnale vocale, viene trasmessa una serie di numeri che ne **codificano** periodicamente l'ampiezza.

Si usano dei circuiti elettronici chiamati **Convertitori Analogico-Digitali** che campionano il segnale analogico in ingresso.

La **risoluzione** del convertitore indica il numero di valori discreti che puo' produrre (es. un convertitore che codifica un ingresso analogico in 256 livelli discreti ha una risoluzione di 8 bit).

In questa applicazione, per codificare la voce umana senza perdere informazioni, sono necessari 8 mila campioni al secondo (8 kHz) con una risoluzione a 8 bit.

Un canale di telefonia digitale richiede dunque almeno 64 kbps.

#### PSTN (Public Service Telephone Network)
E' costituita da varie componenti:
* Apparati terminale (**telefoni**): analogici o digitali;
* Collegamenti terminali-centrali (**local loop**): analogico;
* Cavi condivisi centrale-centrale (**trunk**): digitale;
* Apparecchiature di commutazione (**switch di circuito**);
* Rete di controllo.

![M1_pstn](../resources/M1_pstn.png)

Si tratta di una struttura gerarchica:
* Intermidiate switching office (o central office);
* Toll office;
* End office;
* Telephone.

Non c'e' pero' un unico central office che connette tutti i toll office tra di loro perche' sarebbe troppo costoso e richiederebbe interconnessioni troppo complesse.

Si eleva l'astrazione a grandi commutatori che mettono in connessione diversi central office, aumentando il numero di livelli della gerarchia. Dunque maggiore e' il numero di livelli presenti, maggiore e' l'estensione della rete telefonica.

#### Come eseguire una telefonata
Sui telefoni ogni tasto emette un suono ad una frequenza differente, che viene codificato secondo una **codifica multifrequenza** usando un codice **DTMF (Dual-Tone, Multifrequency)**.

Quando si compone un numero, lo switch locale valuta se e' necessario interfacciarsi con il central office per risolvere la telefonata. 
Esegue dunque un controllo tramite uno scambio di informazioni con il central office mediante la tecnica **SS7 (Signaling System 7)**, una comunicazione **out band**, per valutare se e' possibile raggiungere il numero che si vuole chiamare.
Nel caso questo sia possibile deve essere attivato il collegamento tra lo switch locale della chiamante e lo switch locale del destinatario sempre tramite la tecnica *SS7*.

La comunicazione tra gli switch locali comporta la tramissione del **segnale di ring** (squillo) e della sequenza di bit che codificano la voce in forma digitale. La tramissione di informazioni tra gli switch locali puo' avvenire in varie modalita': storicamente si usa la modalita' **X.25** che raggruppa insieme di campioni vocali in un blocchi (pacchetto).

#### PBX (Private Branch Exchange)
Le aziende che dispongono molti terminali telefonici all'interno della stessa struttura possono voler richiedere un proprio end office, uno switch privato (centralino) interno.

Un PBX rappresenta l'equivalente di un end office che non si collega con un toll office perche' fa riferimento solo alla numerazione interna aziendale.
Un PBX ha comunque accesso alla rete PSTN ma non direttamente (e' necessario premere il numero 0).

Il PBX puo' essere un'apparecchiatura fisica o virtuale (ma in entrambi i casi va pagata la societa' telefonica):
* Fisica nel senso che c'e' veramente un centralino nell'azienda;
* Virtuale nel senso che e' la societa' telefonica a gestire il centralino.